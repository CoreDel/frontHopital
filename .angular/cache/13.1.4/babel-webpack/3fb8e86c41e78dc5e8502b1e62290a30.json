{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nobelios\\\\Documents\\\\FFFJava\\\\gestionHopital\\\\frontHopital\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\nobelios\\\\Documents\\\\FFFJava\\\\gestionHopital\\\\frontHopital\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { Role } from 'src/app/model/role';\nimport { RoleService } from 'src/app/service/role.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/role.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction RoleComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function RoleComponent_tr_16_Template_button_click_4_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r3);\n      var r_r1 = restoredCtx.$implicit;\n      var ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.deleteRole(r_r1.idRole);\n    });\n    i0.ɵɵtext(5, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var r_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(r_r1.libelle);\n  }\n}\n\nexport var RoleComponent = /*#__PURE__*/(function () {\n  var RoleComponent = /*#__PURE__*/function () {\n    function RoleComponent(roleService) {\n      _classCallCheck(this, RoleComponent);\n\n      this.roleService = roleService;\n      this.role = new Role();\n    }\n\n    _createClass(RoleComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.findAll();\n      }\n    }, {\n      key: \"findAll\",\n      value: function findAll() {\n        var _this = this;\n\n        this.roleService.findAll().subscribe(function (data) {\n          _this.roles = data;\n        }); // subscribe : rafraichit la table\n      }\n    }, {\n      key: \"deleteRole\",\n      value: function deleteRole(id) {\n        var _this2 = this;\n\n        this.roleService.deleteRole(id).subscribe(function () {\n          _this2.findAll();\n        });\n      }\n    }, {\n      key: \"saveRole\",\n      value: function saveRole() {\n        var _this3 = this;\n\n        this.roleService.saveRole(this.role).subscribe(function () {\n          _this3.findAll(); // mettre à jour la table\n\n\n          _this3.role = new Role(); // pour vider le formulaire\n        });\n      }\n    }]);\n\n    return RoleComponent;\n  }();\n\n  RoleComponent.ɵfac = function RoleComponent_Factory(t) {\n    return new (t || RoleComponent)(i0.ɵɵdirectiveInject(i1.RoleService));\n  };\n\n  RoleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RoleComponent,\n    selectors: [[\"app-role\"]],\n    decls: 17,\n    vars: 2,\n    consts: [[\"type\", \"text\", \"name\", \"libelle\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function RoleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵelementStart(1, \"h1\");\n        i0.ɵɵtext(2, \"Ajouter un role\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\");\n        i0.ɵɵelementStart(4, \"label\");\n        i0.ɵɵtext(5, \"Libelle\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function RoleComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.role.libelle = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function RoleComponent_Template_button_click_7_listener() {\n          return ctx.saveRole();\n        });\n        i0.ɵɵtext(8, \"Ajouter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\");\n        i0.ɵɵelementStart(10, \"table\");\n        i0.ɵɵelementStart(11, \"tr\");\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"Libelle\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Action\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, RoleComponent_tr_16_Template, 6, 1, \"tr\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.role.libelle);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngForOf\", ctx.roles);\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgForOf],\n    styles: [\"\"]\n  });\n  return RoleComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}