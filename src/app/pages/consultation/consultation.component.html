<!-- Entete de la page avec le titre -->
<div class="header bg-gradient-success pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <div class="row">
        <div class="col-lg-7 col-md-10">
          <h2 class="display-2 text-white">{{ titrePage }}</h2>
          <p class="text-white mt-0 mb-6"></p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Formulaire pour planifier une consultation -->
<div class="container-fluid mt--7">
<div class="row">
  <div class="col">
    <div class="card shadow">
      <div class="card-header bg-white border-0">
        <div class="row align-items-center">
          <div class="col-8">
            <h3 class="mb-0">Formulaire</h3>
          </div>
          <div class="col-4 text-right">
            <!--<a href="#!" class="btn btn-sm btn-primary">Settings</a>-->
            <br>
          </div>
        </div>
      </div>
     
      <div class="card-body">
        <form (ngSubmit)="saveConsultation()">
          <h6 class="heading-small text-muted mb-4">{{ FormAddConsultationTitle }}</h6>
          <div class="pl-lg-8">
            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label class="form-control-label">IdPatient</label>
                  <input [(ngModel)]="consultation.idPatient" type="text" name="idPatientC" class="form-control form-control-alternative" placeholder="Identitifiant du patient">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label class="form-control-label">IdMedecin</label>
                  <input [(ngModel)]="consultation.idMedecin" type="text" name="idMedecinC" class="form-control form-control-alternative" placeholder="Identitifiant du medecin">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label class="form-control-label">Date et heure</label>
                  <input [(ngModel)]="consultation.date" name="dateC" type="datetime-local" min="2022-01-25T08:00" max="2023-01-25T22:00" step="1800" class="form-control form-control-alternative" placeholder="">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label class="form-control-label">Motif Visite</label>
                  <input [(ngModel)]="consultation.motifConsultation" type="text" name="motifC" class="form-control form-control-alternative" placeholder="Motif de la consultation">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label class="form-control-label"></label>
                  <button class="btn btn-success">Valider</button>
                </div>
              </div>
            </div>
          </div>
          <!--<hr class="my-4" />
          
          <h6 class="heading-small text-muted mb-4">Contact information</h6>
          <div class="pl-lg-4">
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label class="form-control-label" for="input-address">Address</label>
                  <input id="input-address" class="form-control form-control-alternative" placeholder="Home Address" value="Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09" type="text">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4">
                <div class="form-group">
                  <label class="form-control-label" for="input-city">City</label>
                  <input type="text" id="input-city" class="form-control form-control-alternative" placeholder="City" value="New York">
                </div>
              </div>
              <div class="col-lg-4">
                <div class="form-group">
                  <label class="form-control-label" for="input-country">Country</label>
                  <input type="text" id="input-country" class="form-control form-control-alternative" placeholder="Country" value="United States">
                </div>
              </div>
              <div class="col-lg-4">
                <div class="form-group">
                  <label class="form-control-label" for="input-country">Postal code</label>
                  <input type="number" id="input-postal-code" class="form-control form-control-alternative" placeholder="Postal code">
                </div>
              </div>
            </div>
          </div>
          <hr class="my-4" />
    
          <h6 class="heading-small text-muted mb-4">About me</h6>
          <div class="pl-lg-4">
            <div class="form-group">
              <label>About Me</label>
              <textarea rows="4" class="form-control form-control-alternative" placeholder="A few words about you ...">A beautiful Dashboard for Bootstrap 4. It is Free and Open Source.</textarea>
            </div>
          </div>-->
        </form>
      </div>
    </div>
  </div>
</div>

<br>

<div class="row">
    <div class="col-xl-8 order-xl-1">
        <div class="card bg-secondary shadow">
        <div class="card-header bg-white border-0">
            <div class="row align-items-center">
            <div class="col-8">
                <h3 class="mb-0">Historique des consultations</h3>
            </div>
            <div class="col-4 text-right">
                <!--<a href="#!" class="btn btn-sm btn-primary">Settings</a>-->
                <br>
            </div>
            </div>
        </div>
        
        <div class="card-body">
            <button class="btn btn-info" (click)="findAll()">Rafra√Æchir</button>
            <br>
            <table class="table align-items-center table-flush">
            <thead class="thead-light">
                <tr>
                <th scope="col">Id consultation</th>
                <th scope="col">Id patient</th>
                <th scope="col">Id Medecin</th>
                <th scope="col">Date</th>
                <th></th>
                </tr>
            </thead>
            <tbody *ngFor="let c of consultations">
                <tr>
                <th scope="row">
                    {{c.idConsultation}}
                </th>
                <th scope="row">
                    {{c.idPatient}}
                </th>
                <th scope="row">
                    {{c.idMedecin}}
                </th>
                <th scope="row">
                    {{c.date}}
                </th>
                <td>
                    <button class="btn btn-danger" (click)="deleteConsultation(c.idConsultation)">Supprimer</button>
                </td>
                </tr>
            </tbody>
            </table>
        </div>
        </div>
    </div>
</div>
</div>
